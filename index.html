<!DOCTYPE html>

<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Login - ONG Novo Amanhã</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<link href="css/styles.css" rel="stylesheet">
    <!-- Firebase Init -->
    <script type="module" src="./js/firebase-init.js"></script>
</head>
<body>
<div class="login-container">
<h1 class="login-title">BETA</h1>
<h1 class="login-title">Plataforma de Gestão</h1>
<p class="login-subtitle">Faça login para continuar</p>
<form id="loginForm">
<div class="form-group">
<label class="form-label" for="email">
<span class="sr-only">E-mail</span>
</label>
<div class="input-group">
<input aria-label="E-mail" class="form-control" data-tooltip="Digite seu e-mail de acesso" id="email" placeholder="Digite seu e-mail" required="" type="email"/>
<i class="fas fa-envelope input-icon"></i>
</div>
</div>
<div class="form-group">
<label class="form-label" for="senha">
<span class="sr-only">Senha</span>
</label>
<div class="input-group">
<input aria-label="Senha" class="form-control" data-tooltip="Digite sua senha" id="senha" placeholder="Digite sua senha" required="" type="password"/>
<i class="fas fa-lock input-icon"></i>
<button aria-label="Mostrar senha" class="password-toggle" type="button">
<i class="fas fa-eye"></i>
</button>
</div>
</div>
<button class="btn-entrar" type="submit">
<span>Entrar</span>
<div class="spinner">
<i class="fas fa-circle-notch fa-spin"></i>
</div>
</button>
<div class="links-container">
<a class="primeiro-acesso" data-tooltip="Criar nova conta" href="primeiroacesso.html">
<i class="fas fa-user-plus"></i> Primeiro acesso
                </a>
<a class="esqueci-senha" data-tooltip="Recuperar senha" href="recuperarsenha.html">
<i class="fas fa-key"></i> Esqueci a senha
                </a>
</div>
<div class="mensagem" role="alert"></div>
<div class="copyright">
                Desenvolvido por quem aprende, para quem transforma.
            </div>
</form>
</div>
<script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('loginForm');
            const senhaInput = document.getElementById('senha');
            const toggleButton = document.querySelector('.password-toggle');
            const mensagemDiv = document.querySelector('.mensagem');

            // Toggle senha
            toggleButton.addEventListener('click', function() {
                const type = senhaInput.type === 'password' ? 'text' : 'password';
                senhaInput.type = type;
                this.querySelector('i').classList.toggle('fa-eye');
                this.querySelector('i').classList.toggle('fa-eye-slash');
            });

            // Submit do formulário
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                const button = this.querySelector('.btn-entrar');
                const emailInput = document.getElementById('email');
                const senhaInput = document.getElementById('senha');
                
                // Limpa mensagens anteriores
                mensagemDiv.className = 'mensagem';
                mensagemDiv.style.display = 'none';
                
                // Valida campos
                if (!emailInput.value || !senhaInput.value) {
                    mensagemDiv.textContent = 'Por favor, preencha todos os campos';
                    mensagemDiv.className = 'mensagem erro';
                    mensagemDiv.style.display = 'block';
                    return;
                }
                
                // Mostra loading
                button.classList.add('loading');
                button.disabled = true;

                // Simulando validação (será substituído pelo backend real)
                setTimeout(() => {
                    // Simula autenticação bem-sucedida
                    mensagemDiv.textContent = 'Login realizado com sucesso!';
                    mensagemDiv.className = 'mensagem sucesso';
                    mensagemDiv.style.display = 'block';
                    
                    // Redireciona após mensagem de sucesso
                    setTimeout(() => {
                        window.location.href = 'pages/menu.html';
                    }, 500);
                }, 1500);
            });
        });
    </script>
</body>
</html>
